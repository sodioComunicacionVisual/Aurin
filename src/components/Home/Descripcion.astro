---
import ScrollReveal from '../UI/ScrollReveal.astro';
---

<section class="descripcion">
  <div class="descripcion-container">
    <!-- Left column -->
    <div class="left-column">
      <ScrollReveal 
        text="En un mundo lleno de estímulos visuales, nuestra misión es crear conexiones que realmente importen."
        tag="h2"
        textClass="heading-highlight"
        baseOpacity={0.2}
        baseRotation={4}
        blurStrength={5}
        enableBlur={true}
      />
      
      <div class="content-text">
        <p>
          Porque cuanto más unidos estemos en ideas, objetivos y sueños, más lejos podremos llegar juntos.<br/>
          <strong class="text-highlight">En Aurin, abrazamos la simbiosis de los contrastes:</strong> lo cercano y lo distante, lo humano y lo tecnológico, la intuición y los datos, la creatividad y la estrategia. Creemos que las diferencias amplían perspectivas, enriquecen nuestra visión e integran nuevas formas de entender el mundo, permitiéndonos crear soluciones más innovadoras y efectivas.
        </p>
      </div>
    </div>
    
    <!-- Right column -->
    <div class="right-column">
      <div class="parallax-text-small" data-parallax-small>+Lejos</div>
      <div class="parallax-text-large" data-parallax-large>+Cerca</div>
      <img src="https://pub-d17bbbdbf8e348c5a57c8168ad69c92f.r2.dev/LightSVG.svg" alt="Light SVG" class="triangle-svg" />
    </div>
  </div>
</section>

<style>
  .descripcion {
    background: var(--color-black-a);
    padding: 49px 50px;
    overflow: hidden;
  }

  .descripcion-container {
    max-width: 1392.94px;
    margin: 0 auto;
    display: flex;
    justify-content: flex-start;
    align-items: flex-start;
    gap: 50px;
  }

  /* Left column */
  .left-column {
    width: 600px;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: flex-start;
    gap: 50px;
    padding-top: 20px;
    padding-bottom: 20px;
  }

  :global(.heading-highlight) {
    width: 532px;
    color: var(--color-yellow) !important;
    font-size: var(--heading-5-size) !important;
    font-family: var(--font-heading) !important;
    font-weight: 300 !important;
    line-height: var(--heading-5-line-height) !important;
    word-wrap: break-word;
    margin: 0 !important;
  }

  :global(.heading-highlight .scroll-reveal-word) {
    color: var(--color-yellow) !important;
  }

  .content-text {
    align-self: stretch;
  }

  .content-text p {
    color: var(--color-white);
    font-size: var(--body-1-size);
    font-family: var(--font-body);
    font-weight: 400;
    word-wrap: break-word;
    margin: 0;
    line-height: 1.6;
  }

  .text-highlight {
    color: var(--color-yellow);
    font-weight: 700;
  }

  /* Right column */
  .right-column {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    align-items: flex-start;
    overflow: visible;
    position: relative;
  }

  .triangle-svg {
    width: 100%;
    height: 500px;
    object-fit: cover;
    object-position: left bottom;
    position: relative;
    z-index: 1;
  }

  .parallax-text-small {
    position: absolute;
    top: 20px;
    right: 100px;
    color: var(--color-black-a);
    font-family: var(--font-heading);
    font-size: 24px;
    font-weight: 300;
    z-index: 2;
    pointer-events: none;
  }

  .parallax-text-large {
    position: absolute;
    bottom: 50px;
    left: 200px;
    color: var(--color-black-a);
    font-family: var(--font-heading);
    font-size: 120px;
    font-weight: 600;
    z-index: 2;
    pointer-events: none;
  }

  /* Responsive adjustments */
  @media (max-width: 1400px) {
    .descripcion {
      padding: 40px 40px;
    }

    .descripcion-container {
      gap: 100px;
    }
  }

  @media (max-width: 1024px) {
    .descripcion-container {
      flex-direction: column;
      gap: 50px;
    }

    .left-column {
      width: 100%;
      padding-top: 0;
      padding-bottom: 0;
    }

    .heading-highlight {
      width: 100%;
    }
  }

  @media (max-width: 768px) {
    .descripcion {
      padding: 40px 30px;
    }

    .left-column {
      gap: 30px;
    }

    .heading-highlight {
      font-size: 24px;
      line-height: 28px;
    }

    .content-text p {
      font-size: 16px;
    }
  }

  @media (max-width: 480px) {
    .descripcion {
      padding: 30px 20px;
    }

    .left-column {
      gap: 20px;
    }

    .heading-highlight {
      font-size: 20px;
      line-height: 24px;
    }

    .content-text p {
      font-size: 14px;
    }
  }
</style>

<script>
  import { scroll, animate } from 'motion';

  document.addEventListener('DOMContentLoaded', () => {
    const smallText = document.querySelector('[data-parallax-small]') as HTMLElement;
    const largeText = document.querySelector('[data-parallax-large]') as HTMLElement;

    if (smallText) {
      scroll(
        animate(smallText, { y: [0, 40] }),
        {
          target: smallText,
          offset: ['start end', 'end start']
        }
      );
    }

    if (largeText) {
      scroll(
        animate(largeText, { y: [0, -60] }),
        {
          target: largeText,
          offset: ['start end', 'end start']
        }
      );
    }
  });
</script>
